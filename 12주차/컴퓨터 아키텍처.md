# **운영체제(OS)**

**운영체제(OS, Operating System)**는 컴퓨터 시스템의 핵심 소프트웨어로, 컴퓨터 하드웨어와 응용 프로그램 간의 상호작용을 관리하고 제어하는 역할을 한다.

**운영체제의 목적**은 **사용자와 하드웨어 사이의 인터페이스를 제공해 효율적으로 응용 프로그램이 동작하도록 지원**하고, **시스템 자원을 효율적으로 관리하여 응용 프로그램이 원활하게 동작**할 수 있도록 한다.

운영체제의 코어(핵심) 부분을 **커널(Kernel)**이라고 하는데, 일반적으로는 커널에 여러가지 기능(라이브러리, 시스템 프로그램 등등)이 추가된 상태를 통칭해서 운영체제(OS)라고 한다.

![다운로드 (1).png](https://prod-files-secure.s3.us-west-2.amazonaws.com/aee84880-96fd-4e10-90fc-a19384342fd0/e323d915-5792-4ce2-9dbd-431be8450f8c/%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%85%E1%85%A9%E1%84%83%E1%85%B3_(1).png)

## 👩‍💻응용 프로그램

프로그램은 모두 소프트웨어입니다. 그렇다면 소프트웨어란 무엇일까요?

소프트웨어는 두 가지로 나눌 수 있습니다.

- 소프트웨어
    - 운영체제
    - 응용 프로그램(액셀, 파워포인트 등)

### 운영체제와 응용 프로그램간의 관계

앞서 말했듯이, 운영체제는 응용 프로그램을 관리합니다. 어떤 식으로 관리하는지 풀어 설명하면 다음과 같습니다.

- 응용 프로그램을 실행시킨다.
- 응용 프로그램간의 **권한**을 관리해준다.관리자 권한으로 실행
- 응용 프로그램을 사용하는 **사용자**도 관리ex) 로그인

응용 프로그램은 누구나 만들 수 있습니다. 누군가 프로그램에 무한 반복문을 넣었거나, 잘못 작성해서 프로그램이 다운되거나, 모든 파일을 삭제하는 코드가 있을 수 있습니다.

이를 방지하기 위해서 운영체제는 응용 프로그램을 관리합니다.

### **운영체제의 역할**

**① 자원 관리**

운영체제는 컴퓨터 시스템의 하드웨어 자원을 효율적으로 관리하는 역할을 한다. CPU(중앙처리장치), 메모리(Memory), 저장장치(Storage), 입출력 장치(I/O Device) 등 하드웨어의 자원을 할당하고 관리하여 여러 응용 프로그램이 동시에 실행될 수 있도록 한다.

**② 메모리 관리**

운영체제는 컴퓨터의 메모리를 효율적으로 관리하여 응용 프로그램이 필요로하는 메모리 공간을 할당한다. 여기서 메모리의 할당과 해제, 가상 메모리 관리 등을 포함한다.

**③ 프로세스 관리**

운영체제는 실행 중인 응용 프로그램인 프로세스(Process)를 관리한다. 여기서 프로세스의 생성, 실행, 일시 정지, 시스템 중지 등의 작업을 제어하며, 여러 프로세스 간의 자원 공유와 협력을 관리한다.

**④ 디스크 및 파일 시스템 관리**

운영체제는 디스크와 파일 시스템을 관리하여 파일의 생성, 삭제, 복사, 이동 등의 작업을 처리한다. 파일 시스템은 데이터의 영구적인 저장과 접근을 제공하여 사용자 및 응용 프로그램이 데이터를 쉽게 관리할 수 있도록 한다.

**⑤ 입출력 관리**

운영체제는 입출력 장치와의 상호작용을 관리한다. 사용자와 응용 프로그램이 키보드, 마우스, 디스플레이, 프린터 등과의 통신을 할 수 있도록 지원하며, 입출력 장치의 성능을 최적화 한다.

**⑥ 사용자 인터페이스**

운영체제는 사용자와 컴퓨터 간의 상호작용을 지원하는 사용자 인터페이스를 제공한다. 텍스트 기반의 터미널 환경(CLI, Command Line Interface)과 그래픽 사용자 환경(GUI, Graphical User Interface)을 통해 사용자가 컴퓨터를 조작할 수 있도록 한다.

**⑦ 네트워킹**

운영체제는 컴퓨터 네트워크를 관리하고, 네트워크 프로토콜을 지원하여 컴퓨터 간의 통신을 가능하게 한다. 인터넷 연결, 데이터 전송, 네트워크 보안 등을 관리한다.

**⑧ 오류 처리**

운영체제는 시스템 내부 또는 외부에서 발생하는 오류와 예외 상황을 처리한다. 여기서 프로세스의 비정상 종료, 메모리 오버플로우, 입출력 오류 등을 감지하고 처리하여 시스템의 안정성과 신뢰성을 유지한다.

**⑨ 시스템 보안**

운영체제는 시스템의 보안을 유지하기 위해 접근 제어, 사용자 인증, 암호화 등의 기능을 제공한다. 여기서 불법적인 접근과 데이터 유출 등으로부터 시스템을 보호하고 안전한 환경을 제공한다.

## 컴퓨터 시스템의 구성 요소

1. 하드웨어 : 컴퓨터의 기계적인 장치
    1. 입출력 장치에서 입력을 받으면 이를 처리하고 출력하는 구조
2. 소프트웨어 : 하드웨어의 동작을 제어하고 지시하는 모든 종류의 프로그램을 의미
    1. 시스템 소프트웨어: 운영체제 등 하드웨어를 조작하는 것을 담당
    2. 응용 소프트웨어 : 그 위에서 작동하는 브라우저, 문서 편집기 등의 프로그램
 
![컴퓨터의 구성](https://github.com/princess-study/CS-Study/assets/133184988/823bc4de-5bb2-4186-bc6f-3ec4d7f5fd28)

## 컴퓨터 아키텍처

> 컴퓨터의 여러 구성 요소를 배치하는 방법
> 
![다운로드](https://github.com/princess-study/CS-Study/assets/133184988/7ee47653-602b-43f3-aee0-7a14f271829b)

- 잘 알려진 폰 노이만 구조와 하버드 구조
- 두 구조는 메모리의 배열에 차이가 있다
- 폰 노이만 구조는 많이 사용되지만 메모리에서 데이터와 명령어를 한번에 처리하기 때문에 하버드보다 느림
- 하버드 구조는 명령어와 데이터 메모리를 나누었기 때문에 이를 처리하기 위한 버스가 추가로 필요하다

- 버스 : 버스(Bus)란 CPU, 주기억 장치, 외부의 입출력 장치 사이의 정보 전송을 위한 전기적 통로입니다. 즉, 컴퓨터의 많은 장치들이 서로 데이터를 주고 받기 위한 통로입니다. 버스의 크기, 버스를 통한 데이터 전송 속도가 시스템의 성능을 좌우합니다.

## 폰 노이만 구조

폰 노이만은 초기 컴퓨터 과학자 중 한 명이다. 노이만은 컴퓨터에 연산, 제어, 저장의 세 가지 핵심 기능이 필요하다 생각함

### **연산과 제어를 담당하는 중앙처리장치(Central Processing Unit, CPU)**

중앙처리장치(CPU)는 컴퓨터에서 가장 중요한 구성 요소 중 하나입니다. CPU는 컴퓨터의 모든 작업을 제어하고 수행합니다. 프로그램의 명령어를 해석하고 실행하는 역할도 포함됩니다. 산술 논리 연산 장치(ALU), 제어 장치, 레지스터 등으로 구성되어 있습니다.

## CPU 구성 요소
![CPU 구성 요소](https://github.com/princess-study/CS-Study/assets/133184988/f68b45b4-98c1-4fa7-b8fe-15d61ff41f75)

산술/논리 연산을 처리하는 장치는 산술논리장치(Arithmetic Logic Unit, ALU)라고 부릅니다. CPU를 제어하는 장치는 제어장치(Control Unit)라고 부르며, CPU에 필요한 데이터를 저장하는 것을 레지스터(Register)라고 합니다.

### **컴퓨터가 동작하기 위한 데이터를 저장하는데 사용되는 기억장치**

기억장치는 컴퓨터가 동작하는데 필요한 여러 데이터를 저장하기 위해 사용됩니다. 용도에 따라 주기억장치와 보조기억장치로 분류됩니다. 주기억장치는 프로그램 실행과정에서 필요한 데이터들을 임시로 저장하기 위해 사용됩니다. 대표적으로 램(Random-Access Memory, RAM)이 있습니다. 보조기억장치는 이와 반대로 운영체제나 프로그램 등의 데이터를 장기간 보관할 때 사용합니다. 대표적으로 하드 드라이브(Hard Disk Drive, HDD)와 SSD(Solid State Drive)가 있습니다.

## 컴퓨터 메모리의 동작 원리

### 저장장치의 계층
![저장장치의 계층 분류](https://github.com/princess-study/CS-Study/assets/133184988/fdb93164-d591-4ada-88de-ffb2315b6368)

- 보조기억장치 : 프로그램이나 데이터등을 비교적 장기간 저장하기 위한 저장장치, 용량이 크고 가격이 저렴, 속도가 느리다는 단점
    - 하드디스크(HDD)와 솔리드 스테이트 디스크(SSD)가 있다.
- 주기억장치 : CPU가 연산을 수행하기 위해 필요한 명령어나 데이터를 임시로 저장하기 위한 기억장치, 보조기억장치보다 속도가 빠르지만, 가겨격 대비 용량이 적
- 캐시메모리 : 전원이 켜져있으면 데이터가 계속 유지됨 CPU와 직접 통신하는 메모리의 한 종류로 속도가 매우 빠름
- 레지스터 : CPU가 연산에 필요한 자료를 임시로 저장하는 역할

### 기억장치가 있는데 레지스터를 사용하는 이유는?

이는 바로 기억장치의 속도가 CPU 연산 속도보다 느려서 병목현상이 발생하기 때문입니다.

## 레지스터

- 실제로 컴퓨터에서 데이터를 영구적으로 저장하기 위해서는 하드디스크를 이용해야하고 임시적으로 저장하는 장소를 메모리(RAM)이라고 알고 있다. 하지만 메모리로 연산의 결과를 보내고 영구적으로 저장할 데이터를 하드디스크에 저장해야 하는 등의 명령을 처리하기 위해서는 이들에 대한 주소와 명령의 종류를 저장할 수 있는 기억 공간이 하나 더 필요하다. 그리고 이 공간은 무리 없이 명령을 수행하기 위해 메모리보다 빨라야 한다. 바로 이런 약할을 하는 것이 CPU옆에 붙어있는 레지스터이다.
- 레지스터는 공간을 작지만 CPU와 직접 연결되어 있으므로 연산 속도가 메모리보다 실제 수십 배에세 수백 배까지 빠르다. 그리고 CPU는 자체적으로 데이터를 저장할 방법이 없기 떄문에 메모리로 직접 데이터를 전송할 수 없다. 때문에 연산을 위해서는 반드시 레지스터를 거쳐야 하며 이를 위해서 레지스터는 특정 주소를 가리키거나 값을 읽어올 수 있다.
- 요즘 컴퓨터들은 일반적으로 32비트/64비트 시스템을 많이 사용하는데 여기서 말하는 비트 수는 하나의 레지스터가 저장 가능한 공간의 크기가 32비트인지 64비트인지를 나타낸다.

### 용어

- 비트 : 컴퓨터 시스템이 데이터를 연산하거나 표현할 수 있는 제일 기본 단위 자리값 마다 0과 1 두자리. 2진수만 표현할 수 있다.
- 바이트 : 8개의 비트를 모아서 바이트라고 함

## 컴퓨터의 동작 원리

메모리: 무슨 명령을 수행해야하는지, 명령을 수행하려면 어떤 데이터가 필요한지 적어두는 공간

프로세서: 메모리에서 명령과 데이터를 꺼내와서 실제로 명령을 수행하는 부품
![컴퓨터 동작 원리 사진](https://github.com/princess-study/CS-Study/assets/133184988/e46e1ecf-5acb-4bd4-957a-4103a96c5fb8)

![컴퓨터 동작 원리 사진](https://github.com/princess-study/CS-Study/assets/133184988/af215771-0699-4262-99a6-d00904759b90)

먼저 사용자가 운영체제에 명령을 전달합니다. 운영체제는 보조기억장치(여기서는 HDD)에서 관련 자료을 읽어 메모리(Memory)에 전달합니다. 그 다음 연산이 필요한 부분을 CPU에 전달하고 메모리가 결과를 받아옴

## 메모리 구조 및 세그먼트

메모리는 크게 코드 영역, 데이터 영역, BSS영역 ,힙 영역, 스택 영역으로 구분됨
![실행중인 프로세서의 메모리 영역](https://github.com/princess-study/CS-Study/assets/133184988/1add6632-94b6-4ba3-a602-c888fdaee796)


> 코드 세그먼트
> 
- 실행 가능한 기계 코드가 위치하는 영역
- 텍스트 세그먼트(Text Segment)라고도 함
- 동작하려면 코드를 실행할 수 있어야 하므로 **읽기 권한**과 **실행 권한** 부여

> 데이터 세그먼트
> 
- 컴파일 시점에 값이 정해진 전역 변수 및 전역 상수들이 위치
- CPU가 이 세그먼트의 데이터를 읽을 수 있어야 하므로 **읽기 권한** 부여

> BBS 세그먼트 (Block Started By Symbol Segment)
> 
- 컴파일 시점에 값이 정해지지 않은 전역 변수가 위치하는 메모리 영역
- 개발자가 선언만 하고 초기화하지 않은  등이 포함됨 전역변수
- 메모리 영역은 프로그램이 시작될 때 됨 모두 0으로 값이 초기화
- 이런 특성 때문에 C를 작성할 때, 초기화 안된 전역 변수의 값은 0임
- **읽기 권한** 및 **쓰기 권한** 부여

> 스택 세그먼트(Stack Segment)
> 
- 프로세스의 스택이 위치하는 영역
- 함수의 인자나 지역 변수 같은 임시 변수들이 저장

![세그먼트 총정리](https://github.com/princess-study/CS-Study/assets/133184988/e5323a04-243e-4557-b3d2-a84f25a5a81c)


## 명령 주기

명령주기(instruction Cycle, IC)는 CPU가 메모리로부터 1개의 명령어를 가져와 이를 수행하는 과정을 말합니다. IC는 아래 5단계로 이루어집니다.

1) Fetct

Fetch 단계에서는 CPU가 메모리에서 다음으로 실행할 명령어를 가져옵니다. 이 때, CPU는 메모리 주소 버스를 이용해 메모리 주소를 지정하고, 데이터 버스를 통해 명령어를 인출합니다. 이 과정에서의 순차적으로 한번에 처리되는 데이터 단위는 1word이며, 현재 CPU가 처리하는 최소 정보처리 단위로써 대부분 64-Bits를 사용하고 있습니다.

2) Decode

Decode단계에서는 CPU가 인출한 명령어를 해독하여 명령어가 어떤 작업을 수행해야 하는지를 결정합니다. 이 때, CPU는 명령어의 '6', '3' 같은 피연산자(operand)와 '+', '-" 같은 연산자(operator)를 구분하고, 해당 명령어에 필요한 레지스터나 메모리 주소 등을 결정합니다.

3) Excute

Excute 단계에서는 CPU가 결정한 명령어를 해석하고 실행합니다. 이때, CPU는 연산을 수행하기 위해 필요한 데이터를 레지스터에서 저장하거나 가져옵니다.

4) Memory(Access)

Memory 단계에서는 CPU가 메모리에 접근하여 데이터를 읽거나 쓸 수 있습니다. 이 때, CPU는 메모리 주소를 결정하고, 데이터 버스를 통해 메모리와 데이터를 주고 받습니다.

5) Write Back

Write Back 단계에서는 계산된 결과를 레지스터에 저장합니다. 이 때, CPU는 결과를 저장할 위치를 결정하고, 데이터 버스를 통해 결과를 저장합니다.위 5단계의 과정을 반복하여 CPU가 프로그램을 실행합니다. 기존 폰노이만 구조에서는 이 5단계 순차적으로 이루어져야하기 때문에 병목현상이 일어나는 것이죠.

# **병목현상 이란?**

- **시스템 내에서 전체적인 처리 속도를 떨어뜨리게 되는 특정한 부분을 가리키는 용어**
- **시스템의 CPU나 메모리, 디스크 등의 자원 중 하나가 다른 자원들에 비해 처리 속도가 느려서, 전체적인 성능을 제한하는 경우를 말함**
- **효율적인 자원분배 및 최적화를 고려해야함**

## 폰 노이만 구조의 CPU와 메모리 사이에 병목현상이 일어나는 이유

폰 노이만의  CPU의 처리가 빠른 것에 비해, 다른 장치들에서 CPU까지의 전달 속도가 매우 느리다. 그렇기에 폰 노이만 구조의 CPU와 메모리 사이에 병목현상이 발생

## **명령어 집합 구조(Instruction Set Architecture, ISA)**

명령어 집합구조(Instruction Set Architecture, ISA)는 마이크로 프로세서 또는 초소형 연산 처리 장치 (CPU(중앙처리장치)를 말함)가 인식해서 기능을 이해하고 실행할 수 있는 기계어 명령을 의미한다. 프로그램은 기계어로 이루어져 있는데 프로그램을 실행하면 이 명령어들을 CPU가 읽고, 처리합니다.

CPU의 하드웨어적 설계는 마이크로 아키텍처(Micro Architecture)라 불리며, 정의된 명령어 집합을 효율적으로 처리할 수 있도록 CPU의 회로를 설계하는 분야입니다.

ISA의 종류는 x86, AMD64(x86-64), ARM, MIPS, AVR 등이 있습니다. 다양한 ISA가 개발되고 사용되는 이유는 컴퓨터마다 필요한 연산 능력과 컴퓨팅 환경이 다르기 때문입니다.

마이크로프로세서는 제어장치, 연산장치, 레지스터가 하나의 대규목 집적회로 (IC칩)에 내장된 것으로, 개인용 컴퓨터(PC)에서 중앙처리장치로 사용되고 있습니다. 설계 방식에 따라 RISC와 CISC로 구분됩니다. RISC 프로세서는 하버드(Harvard)에서 개발한 아키텍처로 하버드 구조를 사용하고, CISC 프로세서는 폰 노이만 구조로 구성된다.

> 중앙 처리 장치 또는 CPU는 컴퓨터 시스템을 통제하고 프로그램의 연산을 실행 처리하는 가장 핵심적인 컴퓨터 의 제어 장치 혹은 그 기능을 내장한 칩
> 

> 마이크로프로세서: CPU내부에 있는 매우 작은 처리 장치
> 

> 마이크로아키텍처(CPU 아키텍처) : 컴퓨터 과학 및 컴퓨터 공학에서 컴퓨터의 CPU또는 이와 관련된 디지털 신호 처리기의 전자 회로에 대한 설명
> 
- RISC(reduced instruction set computer): 명령어의 개수가 적어 처리 속도가 빠르다는 장점이 있습니다. 그러나 명령어의 개수가 적기 때문에 레지스터가 많고 프로그래밍이 복잡하다는 단점이 있습니다. 보통 스마트폰 또는 임베디드 기기에서 사용과 같이 전력 소모가 적고 처리 속도가 빨라야 하는 곳에 들어갑니다.
- CISC(complicated instruction set computer): 명령어의 개수가 많아 처리 속도가 느리다는 단점이 있습니다. 그러나 명령어의 개수가 많아 레지스터가 적고 프로그래밍이 RISC의 비해 쉽다는 장점이 있습니다. 보통 개인용 PC과 같이 고사양 작업을 필요로 하는 곳에 들어갑니다.

과거에는 이런 특징이 분명했지만 지금은 이를 나누는 기준이 불분명합니다. RISC가 프로그래밍이 복잡하다는 단점을 보완하기 위해 명령어를 만들기도 하고, CISC에서 전력소모가 많다는 단점을 보완하기 위해 명령어의 개수를 줄이기도 해서 너무 큰 의미를 두지는 않아도 됩니다.

### **AMD64**

Intel x86이 들어간 최초의 프로세서는 인텔 8086으로 1978년에 발표됐습니다. 이전 프로세서인 인텔 8080과 어셈블리어 단에서 호환되도록 설계되었습니다. 이 아키텍처는 CISC 설계와 하위 호환성에 중점을 두었습니다. 다량의 범용 레지스터 대신 소수의 특수 용도 레지스터가 있습니다. 그러나 차세대 64비트 CPU를 개발할 당시 기존 32비트와 호환되지 않는 완전히 새로운 CPU 명령 세트를 설계했고, 시장의 외면을 받았습니다. 반면, AMD 64(x86-64)는 기존 x86 32bit 체계와 호환되면서 64bit 처리가 가능해 각광받았고, 리눅스가 AMD64의 64비트를 지원하면서 빠르게 보급됐습니다. 그렇게 현재는 AMD64(x86-64)가 64bit에서 널리 사용되고 있습니다.

## ARM

ARM은 1990년에 설립된 영국의 회사입니다. 32bit RISC Intellectual Property를 제공합니다. 직접 반도체를 제조해 판매하는 것이 아니라 설계한 프로세서를 반도체 회사에 제공합니다. 주로 스마트폰의 스냅드래곤, 애플 A칩과 임베디드 기계에 많이 사용됩니다. 최근에는 애플 M1칩을 기점으로 노트북, 데스크톱 등의 PC에서 두각을 나타내고 있습니다.

## RISC-V

RISC-V는 지난 2010년 미국 UC버클리에서 탄생한 CPU용 아키텍처(ISA)입니다. 이 아키텍처는 이름 그대로 RISC 방식의 아키텍처입니다. 여기서 V는 [브이]가 아닌 [파이브]를 가리킵니다. 이 아키텍처는 비교적 자유로운 BSD 라이선스로 배포되어 라이선스 비용이 '무료'라는 이점이 있습니다.

### 참조

- https://movefun-tech.tistory.com/2
- https://m.blog.naver.com/mjnms/220460806744
- [[https://ko.wikipedia.org/wiki/중앙_처리_장치](https://ko.wikipedia.org/wiki/%EC%A4%91%EC%95%99_%EC%B2%98%EB%A6%AC_%EC%9E%A5%EC%B9%98)](https://ko.wikipedia.org/wiki/%EC%A4%91%EC%95%99_%EC%B2%98%EB%A6%AC_%EC%9E%A5%EC%B9%98)
- https://aws.amazon.com/ko/compare/the-difference-between-microprocessors-microcontrollers/
- [[https://velog.io/@kim-jaemin420/운영체제와-응용프로그램](https://velog.io/@kim-jaemin420/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%EC%99%80-%EC%9D%91%EC%9A%A9%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8)](https://velog.io/@kim-jaemin420/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%EC%99%80-%EC%9D%91%EC%9A%A9%ED%9